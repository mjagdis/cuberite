#include "MapPalette_1_12.h"

namespace MapPalette_1_12
{
	Byte MapColour(Byte a_Colour)
	{
		/** Maps the internal map colours to the colours available on clients
		using this protocol. Internally we use all colours available to the
		latest client version (or at least the latest we support). The mapping
		to the client supported colours uses a static table generated using a
		CIE76-by-taxicab-distance closest colour comparison. */
		static Byte Map[] =
		{
			/* [  0] = */   0,
			/* [  1] = */   1,
			/* [  2] = */   2,
			/* [  3] = */   3,
			/* [  4] = */   4,  // #597d27 -> #597d27
			/* [  5] = */   5,  // #6d9930 -> #6d9930
			/* [  6] = */   6,  // #7fb238 -> #7fb238
			/* [  7] = */   7,  // #435e1d -> #435e1d
			/* [  8] = */   8,  // #aea473 -> #aea473
			/* [  9] = */   9,  // #d5c98c -> #d5c98c
			/* [ 10] = */  10,  // #f7e9a3 -> #f7e9a3
			/* [ 11] = */  11,  // #827b56 -> #827b56
			/* [ 12] = */  12,  // #8c8c8c -> #8c8c8c
			/* [ 13] = */  13,  // #ababab -> #ababab
			/* [ 14] = */  14,  // #c7c7c7 -> #c7c7c7
			/* [ 15] = */  15,  // #696969 -> #696969
			/* [ 16] = */  16,  // #b40000 -> #b40000
			/* [ 17] = */  17,  // #dc0000 -> #dc0000
			/* [ 18] = */  18,  // #ff0000 -> #ff0000
			/* [ 19] = */  19,  // #870000 -> #870000
			/* [ 20] = */  20,  // #7070b4 -> #7070b4
			/* [ 21] = */  21,  // #8a8adc -> #8a8adc
			/* [ 22] = */  22,  // #a0a0ff -> #a0a0ff
			/* [ 23] = */  23,  // #545487 -> #545487
			/* [ 24] = */  24,  // #757575 -> #757575
			/* [ 25] = */  25,  // #909090 -> #909090
			/* [ 26] = */  26,  // #a7a7a7 -> #a7a7a7
			/* [ 27] = */  27,  // #585858 -> #585858
			/* [ 28] = */  28,  // #005700 -> #005700
			/* [ 29] = */  29,  // #006a00 -> #006a00
			/* [ 30] = */  30,  // #007c00 -> #007c00
			/* [ 31] = */  31,  // #004100 -> #004100
			/* [ 32] = */  32,  // #b4b4b4 -> #b4b4b4
			/* [ 33] = */  33,  // #dcdcdc -> #dcdcdc
			/* [ 34] = */  34,  // #ffffff -> #ffffff
			/* [ 35] = */  35,  // #878787 -> #878787
			/* [ 36] = */  36,  // #737681 -> #737681
			/* [ 37] = */  37,  // #8d909e -> #8d909e
			/* [ 38] = */  38,  // #a4a8b8 -> #a4a8b8
			/* [ 39] = */  39,  // #565861 -> #565861
			/* [ 40] = */  40,  // #6a4c36 -> #6a4c36
			/* [ 41] = */  41,  // #825e42 -> #825e42
			/* [ 42] = */  42,  // #976d4d -> #976d4d
			/* [ 43] = */  43,  // #4f3928 -> #4f3928
			/* [ 44] = */  44,  // #4f4f4f -> #4f4f4f
			/* [ 45] = */  45,  // #606060 -> #606060
			/* [ 46] = */  46,  // #707070 -> #707070
			/* [ 47] = */  47,  // #3b3b3b -> #3b3b3b
			/* [ 48] = */  48,  // #2d2db4 -> #2d2db4
			/* [ 49] = */  49,  // #3737dc -> #3737dc
			/* [ 50] = */  50,  // #4040ff -> #4040ff
			/* [ 51] = */  51,  // #212187 -> #212187
			/* [ 52] = */  52,  // #645432 -> #645432
			/* [ 53] = */  53,  // #7b663e -> #7b663e
			/* [ 54] = */  54,  // #8f7748 -> #8f7748
			/* [ 55] = */  55,  // #4b3f26 -> #4b3f26
			/* [ 56] = */  56,  // #b4b1ac -> #b4b1ac
			/* [ 57] = */  57,  // #dcd9d3 -> #dcd9d3
			/* [ 58] = */  58,  // #fffcf5 -> #fffcf5
			/* [ 59] = */  59,  // #878581 -> #878581
			/* [ 60] = */  60,  // #985924 -> #985924
			/* [ 61] = */  61,  // #ba6d2c -> #ba6d2c
			/* [ 62] = */  62,  // #d87f33 -> #d87f33
			/* [ 63] = */  63,  // #72431b -> #72431b
			/* [ 64] = */  64,  // #7d3598 -> #7d3598
			/* [ 65] = */  65,  // #9941ba -> #9941ba
			/* [ 66] = */  66,  // #b24cd8 -> #b24cd8
			/* [ 67] = */  67,  // #5e2872 -> #5e2872
			/* [ 68] = */  68,  // #486c98 -> #486c98
			/* [ 69] = */  69,  // #5884ba -> #5884ba
			/* [ 70] = */  70,  // #6699d8 -> #6699d8
			/* [ 71] = */  71,  // #365172 -> #365172
			/* [ 72] = */  72,  // #a1a124 -> #a1a124
			/* [ 73] = */  73,  // #c5c52c -> #c5c52c
			/* [ 74] = */  74,  // #e5e533 -> #e5e533
			/* [ 75] = */  75,  // #79791b -> #79791b
			/* [ 76] = */  76,  // #599011 -> #599011
			/* [ 77] = */  77,  // #6db015 -> #6db015
			/* [ 78] = */  78,  // #7fcc19 -> #7fcc19
			/* [ 79] = */  79,  // #436c0d -> #436c0d
			/* [ 80] = */  80,  // #aa5974 -> #aa5974
			/* [ 81] = */  81,  // #d06d8e -> #d06d8e
			/* [ 82] = */  82,  // #f27fa5 -> #f27fa5
			/* [ 83] = */  83,  // #804357 -> #804357
			/* [ 84] = */  84,  // #353535 -> #353535
			/* [ 85] = */  85,  // #414141 -> #414141
			/* [ 86] = */  86,  // #4c4c4c -> #4c4c4c
			/* [ 87] = */  87,  // #282828 -> #282828
			/* [ 88] = */  88,  // #6c6c6c -> #6c6c6c
			/* [ 89] = */  89,  // #848484 -> #848484
			/* [ 90] = */  90,  // #999999 -> #999999
			/* [ 91] = */  91,  // #515151 -> #515151
			/* [ 92] = */  92,  // #35596c -> #35596c
			/* [ 93] = */  93,  // #416d84 -> #416d84
			/* [ 94] = */  94,  // #4c7f99 -> #4c7f99
			/* [ 95] = */  95,  // #284351 -> #284351
			/* [ 96] = */  96,  // #592c7d -> #592c7d
			/* [ 97] = */  97,  // #6d3699 -> #6d3699
			/* [ 98] = */  98,  // #7f3fb2 -> #7f3fb2
			/* [ 99] = */  99,  // #43215e -> #43215e
			/* [100] = */ 100,  // #24357d -> #24357d
			/* [101] = */ 101,  // #2c4199 -> #2c4199
			/* [102] = */ 102,  // #334cb2 -> #334cb2
			/* [103] = */ 103,  // #1b285e -> #1b285e
			/* [104] = */ 104,  // #483524 -> #483524
			/* [105] = */ 105,  // #58412c -> #58412c
			/* [106] = */ 106,  // #664c33 -> #664c33
			/* [107] = */ 107,  // #36281b -> #36281b
			/* [108] = */ 108,  // #485924 -> #485924
			/* [109] = */ 109,  // #586d2c -> #586d2c
			/* [110] = */ 110,  // #667f33 -> #667f33
			/* [111] = */ 111,  // #36431b -> #36431b
			/* [112] = */ 112,  // #6c2424 -> #6c2424
			/* [113] = */ 113,  // #842c2c -> #842c2c
			/* [114] = */ 114,  // #993333 -> #993333
			/* [115] = */ 115,  // #511b1b -> #511b1b
			/* [116] = */ 116,  // #111111 -> #111111
			/* [117] = */ 117,  // #151515 -> #151515
			/* [118] = */ 118,  // #191919 -> #191919
			/* [119] = */ 119,  // #0d0d0d -> #0d0d0d
			/* [120] = */ 120,  // #b0a836 -> #b0a836
			/* [121] = */ 121,  // #d7cd42 -> #d7cd42
			/* [122] = */ 122,  // #faee4d -> #faee4d
			/* [123] = */ 123,  // #847e28 -> #847e28
			/* [124] = */ 124,  // #409a96 -> #409a96
			/* [125] = */ 125,  // #4fbcb7 -> #4fbcb7
			/* [126] = */ 126,  // #5cdbd5 -> #5cdbd5
			/* [127] = */ 127,  // #307370 -> #307370
			/* [128] = */ 128,  // #345ab4 -> #345ab4
			/* [129] = */ 129,  // #3f6edc -> #3f6edc
			/* [130] = */ 130,  // #4a80ff -> #4a80ff
			/* [131] = */ 131,  // #274387 -> #274387
			/* [132] = */ 132,  // #009928 -> #009928
			/* [133] = */ 133,  // #00bb32 -> #00bb32
			/* [134] = */ 134,  // #00d93a -> #00d93a
			/* [135] = */ 135,  // #00721e -> #00721e
			/* [136] = */ 136,  // #5b3c22 -> #5b3c22
			/* [137] = */ 137,  // #6f4a2a -> #6f4a2a
			/* [138] = */ 138,  // #815631 -> #815631
			/* [139] = */ 139,  // #442d19 -> #442d19
			/* [140] = */ 140,  // #4f0100 -> #4f0100
			/* [141] = */ 141,  // #600100 -> #600100
			/* [142] = */ 142,  // #700200 -> #700200
			/* [143] = */ 143,  // #3b0100 -> #3b0100
			/* [144] = */ 144,  // #937c71 -> #937c71
			/* [145] = */ 145,  // #b4988a -> #b4988a
			/* [146] = */ 146,  // #d1b1a1 -> #d1b1a1
			/* [147] = */ 147,  // #6e5d55 -> #6e5d55
			/* [148] = */ 148,  // #703919 -> #703919
			/* [149] = */ 149,  // #89461f -> #89461f
			/* [150] = */ 150,  // #9f5224 -> #9f5224
			/* [151] = */ 151,  // #542b13 -> #542b13
			/* [152] = */ 152,  // #693d4c -> #693d4c
			/* [153] = */ 153,  // #804b5d -> #804b5d
			/* [154] = */ 154,  // #95576c -> #95576c
			/* [155] = */ 155,  // #4e2e39 -> #4e2e39
			/* [156] = */ 156,  // #4f4c61 -> #4f4c61
			/* [157] = */ 157,  // #605d77 -> #605d77
			/* [158] = */ 158,  // #706c8a -> #706c8a
			/* [159] = */ 159,  // #3b3949 -> #3b3949
			/* [160] = */ 160,  // #835d19 -> #835d19
			/* [161] = */ 161,  // #a0721f -> #a0721f
			/* [162] = */ 162,  // #ba8524 -> #ba8524
			/* [163] = */ 163,  // #624613 -> #624613
			/* [164] = */ 164,  // #485225 -> #485225
			/* [165] = */ 165,  // #58642d -> #58642d
			/* [166] = */ 166,  // #677535 -> #677535
			/* [167] = */ 167,  // #363d1c -> #363d1c
			/* [168] = */ 168,  // #703637 -> #703637
			/* [169] = */ 169,  // #8a4243 -> #8a4243
			/* [170] = */ 170,  // #a04d4e -> #a04d4e
			/* [171] = */ 171,  // #542829 -> #542829
			/* [172] = */ 172,  // #281c18 -> #281c18
			/* [173] = */ 173,  // #31231e -> #31231e
			/* [174] = */ 174,  // #392923 -> #392923
			/* [175] = */ 175,  // #1e1512 -> #1e1512
			/* [176] = */ 176,  // #5f4b45 -> #5f4b45
			/* [177] = */ 177,  // #745c54 -> #745c54
			/* [178] = */ 178,  // #876b62 -> #876b62
			/* [179] = */ 179,  // #473833 -> #473833
			/* [180] = */ 180,  // #3d4040 -> #3d4040
			/* [181] = */ 181,  // #4b4f4f -> #4b4f4f
			/* [182] = */ 182,  // #575c5c -> #575c5c
			/* [183] = */ 183,  // #2e3030 -> #2e3030
			/* [184] = */ 184,  // #56333e -> #56333e
			/* [185] = */ 185,  // #693e4b -> #693e4b
			/* [186] = */ 186,  // #7a4958 -> #7a4958
			/* [187] = */ 187,  // #40262e -> #40262e
			/* [188] = */ 188,  // #352b40 -> #352b40
			/* [189] = */ 189,  // #41354f -> #41354f
			/* [190] = */ 190,  // #4c3e5c -> #4c3e5c
			/* [191] = */ 191,  // #282030 -> #282030
			/* [192] = */ 192,  // #352318 -> #352318
			/* [193] = */ 193,  // #412b1e -> #412b1e
			/* [194] = */ 194,  // #4c3223 -> #4c3223
			/* [195] = */ 195,  // #281a12 -> #281a12
			/* [196] = */ 196,  // #35391d -> #35391d
			/* [197] = */ 197,  // #414624 -> #414624
			/* [198] = */ 198,  // #4c522a -> #4c522a
			/* [199] = */ 199,  // #282b16 -> #282b16
			/* [200] = */ 200,  // #642a20 -> #642a20
			/* [201] = */ 201,  // #7a3327 -> #7a3327
			/* [202] = */ 202,  // #8e3c2e -> #8e3c2e
			/* [203] = */ 203,  // #4b1f18 -> #4b1f18
			/* [204] = */ 204,  // #1a0f0b -> #1a0f0b
			/* [205] = */ 205,  // #1f120d -> #1f120d
			/* [206] = */ 206,  // #251610 -> #251610
			/* [207] = */ 207,  // #130b08 -> #130b08
			/* [208] = */ 113,  // #852122 -> #842c2c
			/* [209] = */ 114,  // #a3292a -> #993333
			/* [210] = */ 114,  // #bd3031 -> #993333
			/* [211] = */ 112,  // #641919 -> #6c2424
			/* [212] = */  83,  // #682c44 -> #804357
			/* [213] = */  83,  // #7f3653 -> #804357
			/* [214] = */  80,  // #943f61 -> #aa5974
			/* [215] = */ 155,  // #4e2133 -> #4e2e39
			/* [216] = */ 115,  // #401114 -> #511b1b
			/* [217] = */ 115,  // #4f1519 -> #511b1b
			/* [218] = */ 115,  // #5c191d -> #511b1b
			/* [219] = */ 143,  // #300d0f -> #3b0100
			/* [220] = */  92,  // #0f585e -> #35596c
			/* [221] = */ 127,  // #126c73 -> #307370
			/* [222] = */ 127,  // #167e86 -> #307370
			/* [223] = */  95,  // #0b4246 -> #284351
			/* [224] = */ 127,  // #286462 -> #307370
			/* [225] = */ 127,  // #327a78 -> #307370
			/* [226] = */ 124,  // #3a8e8c -> #409a96
			/* [227] = */  95,  // #1e4b4a -> #284351
			/* [228] = */ 187,  // #3c1f2b -> #40262e
			/* [229] = */ 155,  // #4a2535 -> #4e2e39
			/* [230] = */ 155,  // #562c3e -> #4e2e39
			/* [231] = */ 187,  // #2d1720 -> #40262e
			/* [232] = */ 127,  // #0e7f5d -> #307370
			/* [233] = */ 124,  // #119b72 -> #409a96
			/* [234] = */ 125,  // #14b485 -> #4fbcb7
			/* [235] = */ 127,  // #0a5f46 -> #307370
			/* [236] = */  85,  // #464646 -> #414141
			/* [237] = */  27,  // #565656 -> #585858
			/* [238] = */  45,  // #646464 -> #606060
			/* [239] = */  84,  // #343434 -> #353535
			/* [240] = */ 144,  // #987b67 -> #937c71
			/* [241] = */ 145,  // #ba967e -> #b4988a
			/* [242] = */ 146,  // #d8af93 -> #d1b1a1
			/* [243] = */ 177,  // #725c4d -> #745c54
		};

		return ((a_Colour < sizeof(Map) / sizeof(Map[0])) ? Map[a_Colour] : 0);
	}
}
